import { useNavigate, useLocation } from "react-router";
import { useAuth } from "../context/authProvider";
import Button from "../utility/Button";
import Iconify from "../utility/Iconify";

function Header({ loggedIn }) {
  const { SignOut } = useAuth();
  const location = useLocation();
  const navigate = useNavigate();

  const handleSingOut = async() => {
    await SignOut();
    navigate('../');
  }

  return (
    <>
      <header className="flex items-center justify-between py-2">
        <div onClick={() => navigate('../')} className="text-sm cursor-pointer text-white lg:text-xl flex items-center gap-4">
          <svg width="75" height="20" viewBox="0 0 75 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M33.6002 12.2793C33.6002 12.8717 33.4544 13.3822 33.1627 13.8105C32.8756 14.2389 32.4609 14.5671 31.9186 14.7949C31.3808 15.0228 30.7383 15.1367 29.9909 15.1367C29.6263 15.1367 29.2776 15.1162 28.945 15.0752C28.6123 15.0342 28.2978 14.9749 28.0016 14.8975C27.7099 14.8154 27.4433 14.7174 27.2018 14.6035V13.0586C27.6074 13.2363 28.0608 13.3981 28.5621 13.5439C29.0635 13.6852 29.5739 13.7559 30.0934 13.7559C30.5172 13.7559 30.8681 13.7012 31.1461 13.5918C31.4287 13.4779 31.6383 13.3184 31.775 13.1133C31.9118 12.9036 31.9801 12.6598 31.9801 12.3818C31.9801 12.0856 31.9004 11.835 31.7409 11.6299C31.5814 11.4248 31.3398 11.238 31.0163 11.0693C30.6972 10.8962 30.2962 10.7116 29.8131 10.5156C29.485 10.3835 29.1705 10.2331 28.8698 10.0645C28.5735 9.89583 28.3092 9.69759 28.0768 9.46973C27.8444 9.24186 27.6598 8.97298 27.5231 8.66309C27.3909 8.34863 27.3248 7.97949 27.3248 7.55566C27.3248 6.99056 27.4593 6.50749 27.7282 6.10645C28.0016 5.7054 28.3844 5.39779 28.8766 5.18359C29.3733 4.9694 29.9521 4.8623 30.6129 4.8623C31.137 4.8623 31.6292 4.91699 32.0895 5.02637C32.5543 5.13574 33.0101 5.29069 33.4567 5.49121L32.9371 6.81055C32.527 6.64193 32.1282 6.50749 31.7409 6.40723C31.358 6.30697 30.9661 6.25684 30.5651 6.25684C30.2187 6.25684 29.9248 6.30924 29.6832 6.41406C29.4417 6.51888 29.2571 6.66699 29.1295 6.8584C29.0065 7.04525 28.945 7.26855 28.945 7.52832C28.945 7.81999 29.0156 8.06608 29.1569 8.2666C29.3027 8.46257 29.526 8.64258 29.8268 8.80664C30.1321 8.9707 30.5241 9.15299 31.0026 9.35352C31.554 9.58138 32.0211 9.82064 32.4039 10.0713C32.7913 10.3219 33.0875 10.6227 33.2926 10.9736C33.4977 11.32 33.6002 11.7552 33.6002 12.2793ZM39.0638 15H37.4163V6.40039H34.4905V5.00586H41.9827V6.40039H39.0638V15ZM49.7773 15L48.7998 12.2246H44.9785L44.001 15H42.2715L45.9902 4.96484H47.8086L51.5205 15H49.7773ZM48.376 10.8164L47.4258 8.08203C47.3893 7.96354 47.3369 7.7972 47.2686 7.58301C47.2002 7.36426 47.1318 7.14323 47.0635 6.91992C46.9951 6.69206 46.9382 6.50065 46.8926 6.3457C46.847 6.53255 46.79 6.74219 46.7217 6.97461C46.6579 7.20247 46.5941 7.41667 46.5303 7.61719C46.471 7.81771 46.4255 7.97266 46.3936 8.08203L45.4365 10.8164H48.376ZM57.1686 6.25684C56.6901 6.25684 56.2617 6.34342 55.8835 6.5166C55.5098 6.68978 55.193 6.94043 54.9333 7.26855C54.6735 7.59212 54.4753 7.98633 54.3386 8.45117C54.2018 8.91146 54.1335 9.43099 54.1335 10.0098C54.1335 10.7845 54.2429 11.4521 54.4616 12.0127C54.6804 12.5687 55.013 12.9971 55.4596 13.2979C55.9063 13.5941 56.4714 13.7422 57.155 13.7422C57.5788 13.7422 57.9912 13.7012 58.3923 13.6191C58.7933 13.5371 59.208 13.4255 59.6364 13.2842V14.6787C59.2308 14.8382 58.8207 14.9544 58.4059 15.0273C57.9912 15.1003 57.5127 15.1367 56.9704 15.1367C55.9496 15.1367 55.1019 14.9248 54.4274 14.501C53.7575 14.0771 53.2562 13.4801 52.9235 12.71C52.5954 11.9398 52.4313 11.0374 52.4313 10.0029C52.4313 9.24642 52.5361 8.55371 52.7458 7.9248C52.9554 7.2959 53.2608 6.75358 53.6618 6.29785C54.0628 5.83757 54.5573 5.48438 55.1452 5.23828C55.7376 4.98763 56.4144 4.8623 57.1755 4.8623C57.6768 4.8623 58.169 4.91927 58.652 5.0332C59.1397 5.14258 59.5908 5.2998 60.0055 5.50488L59.4313 6.8584C59.085 6.69434 58.7227 6.55306 58.3444 6.43457C57.9662 6.31608 57.5742 6.25684 57.1686 6.25684ZM69.475 15H67.5882L64.4779 10.4609L63.4935 11.2607V15H61.8529V5.00586H63.4935V9.78418C63.694 9.53809 63.8968 9.29199 64.1019 9.0459C64.307 8.7998 64.5121 8.55371 64.7171 8.30762L67.5336 5.00586H69.3861L65.6537 9.38086L69.475 15Z" fill="white"/>
          <path d="M1.24853 5.95352L9.19853 0.828487C9.53003 0.614787 9.96338 0.609949 10.3 0.816191L18.6656 5.94094C19.2844 6.31999 19.276 7.18413 18.65 7.55228L10.2841 12.4723C9.95493 12.6658 9.53813 12.6612 9.21378 12.4605L1.2642 7.54075C0.664164 7.16942 0.655929 6.33552 1.24853 5.95352Z" stroke="white"/>
          <path d="M1.24853 9.17L9.19853 4.04498C9.53003 3.83128 9.96338 3.82644 10.3 4.03268L18.6656 9.15743C19.2844 9.53648 19.276 10.4006 18.65 10.7688L10.2841 15.6888C9.95493 15.8823 9.53813 15.8778 9.21378 15.677L1.2642 10.7572C0.664164 10.3859 0.655929 9.552 1.24853 9.17Z" stroke="white"/>
          <path d="M1.24853 12.688L9.19853 7.56303C9.53003 7.34936 9.96338 7.3445 10.3 7.55074L18.6656 12.6755C19.2844 13.0545 19.276 13.9187 18.65 14.2868L10.2841 19.2068C9.95493 19.4004 9.53813 19.3958 9.21378 19.1951L1.2642 14.2753C0.664164 13.904 0.655929 13.0701 1.24853 12.688Z" stroke="white"/>
          </svg>
        </div>
        {loggedIn && (
          <Button onClick={handleSingOut}>
            Go to Login{" "}
            <Iconify data-width={20} data-icon="bi:arrow-right-short" />
          </Button>
        )}
      </header>
      {loggedIn && /\/home$/.test(location.pathname) && (
        <section className="my-8 mb-12 font-open-sans text-5xl text-center text-gradient">
          Good Evening, Naomi!!
        </section>
      )}
    </>
  );
}

export default Header;
